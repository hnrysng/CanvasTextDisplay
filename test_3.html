<html>
  <head>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        /* background-color: antiquewhite; */
        background-color: #222222;
        color: white;
        display: flex;
        justify-content: center;
      }

      canvas {
        /* display: block; */
        margin: auto;
        width: 500px;
      }

    </style>
  </head>

  <body>

    <div id="container"></div>

    <canvas id="canvas" width="1000" height="1000"></canvas>
    
    
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 15 XXThin_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 16 XXThin Italic_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 25 XThin_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 26 XThin Italic_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 35 Thin_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 36 Thin Italic_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 45 Light_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 46 Light Italic_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 55 Roman_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 56 Roman Italic_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 65 Medium_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 66 Medium Italic_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 75 Bold_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 76 Bold Italic_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 95 Black_data.js"></script>
    <script src="assets/font_data/GlyphToCanvas/Neue Haas Grotesk Display Pro 96 Black Italic_data.js"></script>



    <script>

        let canvas = document.getElementById('canvas');
        let ctx = canvas.getContext('2d');
        ctx.imageSmoothingEnabled = true;
        ctx.webkitImageSmoothingEnabled = true;
        ctx.mozImageSmoothingEnabled = true;
        ctx.msImageSmoothingEnabled = true;
        ctx.oImageSmoothingEnabled = true;



        let arr = [
        {Weight: 200, Italic: 0, path:[ { "x": 64, "y": 715, "in_x": 64, "in_y": 715, "out_x": 64, "out_y": 715 }, { "x": 64, "y": 0, "in_x": 64, "in_y": 0, "out_x": 64, "out_y": 0 }, { "x": 131, "y": 0, "in_x": 131, "in_y": 0, "out_x": 131, "out_y": 0 }, { "x": 131, "y": 350, "in_x": 131, "in_y": 350, "out_x": 131, "out_y": 350 }, { "x": 536, "y": 350, "in_x": 536, "in_y": 350, "out_x": 536, "out_y": 350 }, { "x": 536, "y": 0, "in_x": 536, "in_y": 0, "out_x": 536, "out_y": 0 }, { "x": 603, "y": 0, "in_x": 603, "in_y": 0, "out_x": 603, "out_y": 0 }, { "x": 603, "y": 715, "in_x": 603, "in_y": 715, "out_x": 603, "out_y": 715 }, { "x": 536, "y": 715, "in_x": 536, "in_y": 715, "out_x": 536, "out_y": 715 }, { "x": 536, "y": 406, "in_x": 536, "in_y": 406, "out_x": 536, "out_y": 406 }, { "x": 131, "y": 406, "in_x": 131, "in_y": 406, "out_x": 131, "out_y": 406 }, { "x": 131, "y": 715, "in_x": 131, "in_y": 715, "out_x": 131, "out_y": 715 } ]}, 
        {Weight: 300, Italic: 0, path:[ { "x": 48, "y": 517, "in_x": 48, "in_y": 517, "out_x": 48, "out_y": 517 }, { "x": 48, "y": 152, "in_x": 48, "in_y": 152, "out_x": 48, "out_y": 48 }, { "x": 218, "y": -12, "in_x": 118, "in_y": -12, "out_x": 300, "out_y": -12 }, { "x": 380, "y": 76, "in_x": 344, "in_y": 26, "out_x": 382, "out_y": 76 }, { "x": 382, "y": 76, "in_x": 382, "in_y": 76, "out_x": 382, "out_y": 76 }, { "x": 382, "y": 0, "in_x": 382, "in_y": 0, "out_x": 382, "out_y": 0 }, { "x": 443, "y": 0, "in_x": 443, "in_y": 0, "out_x": 443, "out_y": 0 }, { "x": 443, "y": 517, "in_x": 443, "in_y": 517, "out_x": 443, "out_y": 517 }, { "x": 382, "y": 517, "in_x": 382, "in_y": 517, "out_x": 382, "out_y": 517 }, { "x": 382, "y": 194, "in_x": 382, "in_y": 194, "out_x": 382, "out_y": 106 }, { "x": 232, "y": 40, "in_x": 320, "in_y": 40, "out_x": 157, "out_y": 40 }, { "x": 110, "y": 156, "in_x": 110, "in_y": 78, "out_x": 110, "out_y": 517 } ]}, 
        {Weight: 300, Italic: 100, path: [ { "x": 348, "y": 375, "in_x": 341, "in_y": 442, "out_x": 348, "out_y": 375 }, { "x": 410, "y": 375, "in_x": 410, "in_y": 375, "out_x": 398, "out_y": 466 }, { "x": 218, "y": 528, "in_x": 341, "in_y": 528, "out_x": 112, "out_y": 528 }, { "x": 38, "y": 388, "in_x": 38, "in_y": 474, "out_x": 38, "out_y": 288 }, { "x": 227, "y": 239, "in_x": 122, "in_y": 263, "out_x": 333, "out_y": 215 }, { "x": 365, "y": 139, "in_x": 365, "in_y": 196, "out_x": 365, "out_y": 79 }, { "x": 234, "y": 39, "in_x": 320, "in_y": 39, "out_x": 151, "out_y": 39 }, { "x": 82, "y": 161, "in_x": 91, "in_y": 74, "out_x": 19, "out_y": 161 }, { "x": 19, "y": 161, "in_x": 19, "in_y": 161, "out_x": 25, "out_y": 61 }, { "x": 233, "y": -14, "in_x": 95, "in_y": -14, "out_x": 353, "out_y": -14 }, { "x": 427, "y": 140, "in_x": 427, "in_y": 48, "out_x": 427, "out_y": 247 }, { "x": 248, "y": 295, "in_x": 352, "in_y": 273, "out_x": 149, "out_y": 318 } ]}, 
        {Weight: 400, Italic: 100, path: [ { "x": 17, "y": 517, "in_x": 17, "in_y": 517, "out_x": 17, "out_y": 517 }, { "x": 17, "y": 466, "in_x": 17, "in_y": 466, "out_x": 17, "out_y": 466 }, { "x": 95, "y": 466, "in_x": 95, "in_y": 466, "out_x": 95, "out_y": 466 }, { "x": 95, "y": 89, "in_x": 95, "in_y": 89, "out_x": 95, "out_y": 23 }, { "x": 194, "y": -4, "in_x": 135, "in_y": -4, "out_x": 216, "out_y": -4 }, { "x": 251, "y": 5, "in_x": 234, "in_y": -1, "out_x": 251, "out_y": 58 }, { "x": 251, "y": 58, "in_x": 251, "in_y": 58, "out_x": 239, "out_y": 54 }, { "x": 207, "y": 50, "in_x": 221, "in_y": 50, "out_x": 174, "out_y": 50 }, { "x": 157, "y": 99, "in_x": 157, "in_y": 62, "out_x": 157, "out_y": 466 }, { "x": 157, "y": 466, "in_x": 157, "in_y": 466, "out_x": 157, "out_y": 466 }, { "x": 253, "y": 466, "in_x": 253, "in_y": 466, "out_x": 253, "out_y": 466 }, { "x": 253, "y": 517, "in_x": 253, "in_y": 517, "out_x": 253, "out_y": 517 } ]}];
        

        function interpolatePath(arr, weight, italic) {


        // Helper function to interpolate between two values
        function interpolate(start, end, factor) {
            return start + (end - start) * factor;
        }

        // Find the closest weights and italics for interpolation
        let lowerIndex = -1, upperIndex = -1;
        for (let i = 0; i < arr.length; i++) {
            if (arr[i].Weight <= weight && (lowerIndex === -1 || arr[i].Weight > arr[lowerIndex].Weight)) {
                lowerIndex = i;
            }
            if (arr[i].Weight >= weight && (upperIndex === -1 || arr[i].Weight < arr[upperIndex].Weight)) {
                upperIndex = i;
            }
        }



        // // If exact match found, return the path directly
        // if (arr[lowerIndex].Weight === weight && arr[lowerIndex].Italic === italic) {
        //     return arr[lowerIndex].path;
        // }
        // if (arr[upperIndex].Weight === weight && arr[upperIndex].Italic === italic) {
        //     return arr[upperIndex].path;
        // }

        // If no exact match, interpolate between lower and upper
        let lower = arr[lowerIndex];
        let upper = arr[upperIndex];
        let weightFactor = (weight - lower.Weight) / (upper.Weight - lower.Weight);
        let italicFactor = (italic - lower.Italic) / (upper.Italic - lower.Italic);


        console.log(lower)
        console.log(upper)

        let interpolatedPath = lower.path.map((point, index) => {
            let upperPoint = upper.path[index];
            return {
                x: interpolate(point.x, upperPoint.x, weightFactor),
                y: interpolate(point.y, upperPoint.y, weightFactor),
                in_x: interpolate(point.in_x, upperPoint.in_x, italicFactor),
                in_y: interpolate(point.in_y, upperPoint.in_y, italicFactor),
                out_x: interpolate(point.out_x, upperPoint.out_x, italicFactor),
                out_y: interpolate(point.out_y, upperPoint.out_y, italicFactor)
            };
        });

        return interpolatedPath;
    }


    let weight = 350;
    let italic = 20;

    let result = interpolatePath(arr, weight, italic);
    console.log(result);



    </script>
  </body>
</html>
